<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Thumbnail Maker</title>
    <link rel="stylesheet" href="styles.css" />

    <!-- Person Segmentation Library -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.0"
    ></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>YouTube Thumbnail Maker</h1>
      </header>

      <main>
        <div class="editor-area">
          <div class="toolbar-left">
            <div class="tool-section">
              <h3>Elements</h3>
              <button id="cycle-elements" class="btn">Cycle Elements</button>
            </div>

            <div class="tool-section">
              <h3>Add Elements</h3>
              <button id="add-text" class="btn">Add Text</button>
              <input
                type="file"
                id="image-upload"
                accept="image/*,.svg"
                style="display: none"
              />
              <button id="add-image" class="btn">Add Image</button>
            </div>

            <div class="tool-section">
              <h3>Add Shapes</h3>
              <button id="add-rectangle" class="btn">Rectangle</button>
              <button id="add-circle" class="btn">Circle</button>
              <button id="add-triangle" class="btn">Triangle</button>
            </div>

            <div class="tool-section">
              <h3>Add Arrows</h3>
              <button id="add-straight-arrow" class="btn">Straight Arrow</button>
              <button id="add-curved-arrow" class="btn">Curved Arrow</button>
            </div>
          </div>

          <div class="canvas-container">
            <canvas id="thumbnail-canvas" width="1280" height="720"></canvas>
            <div class="canvas-controls">
              <div id="text-controls" class="text-controls" style="display: none">
                <h4>Text Settings</h4>
              <div class="controls-row">
                  <div class="control-group">
                    <label for="text-content">Text Content:</label>
                    <input
                      type="text"
                      id="text-content"
                      placeholder="Enter your text"
                      value="Sample Text"
                    />
                  </div>

                  <div class="control-group">
                    <label for="text-font">Font:</label>
                    <select id="text-font">
                      <option value="Arial">Arial</option>
                      <option value="Helvetica">Helvetica</option>
                      <option value="Times New Roman">Times New Roman</option>
                      <option value="Georgia">Georgia</option>
                      <option value="Verdana">Verdana</option>
                      <option value="Courier New">Courier New</option>
                      <option value="Impact">Impact</option>
                      <option value="Comic Sans MS">Comic Sans MS</option>
                    </select>
                  </div>

                  <div class="control-group">
                    <label for="text-size">Size:</label>
                    <input
                      type="number"
                      id="text-size"
                      min="12"
                      max="120"
                      value="48"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="text-color">Color:</label>
                    <input type="color" id="text-color" value="#000000" />
                  </div>

                  <div class="control-group">
                    <label for="text-weight">Weight:</label>
                    <select id="text-weight">
                      <option value="normal">Normal</option>
                      <option value="bold">Bold</option>
                    </select>
                  </div>

                  <div class="control-group">
                    <label for="text-align">Alignment:</label>
                    <select id="text-align">
                      <option value="left">Left</option>
                      <option value="center">Center</option>
                      <option value="right">Right</option>
                    </select>
                  </div>

                  <div class="control-group">
                    <label for="text-rotation">Rotation:</label>
                    <input
                      type="number"
                      id="text-rotation"
                      min="-360"
                      max="360"
                      value="0"
                      step="1"
                    />
                    <span>°</span>
                  </div>

                  <div class="control-group">
                    <label for="text-outline-width">Outline Width:</label>
                    <input
                      type="number"
                      id="text-outline-width"
                      min="0"
                      max="20"
                      value="0"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="text-outline-color">Outline Color:</label>
                    <input type="color" id="text-outline-color" value="#ffffff" />
                  </div>
                </div>
              </div>

              <div id="image-controls" class="image-controls" style="display: none">
                <h4>Image Settings</h4>
                <div class="controls-row">
                  <div class="control-group">
                    <label for="image-opacity">Opacity:</label>
                    <input
                      type="range"
                      id="image-opacity"
                      min="0"
                      max="100"
                      value="100"
                    />
                    <span id="image-opacity-value">100%</span>
                  </div>

                  <div class="control-group">
                    <label for="image-brightness">Brightness:</label>
                    <input
                      type="range"
                      id="image-brightness"
                      min="0"
                      max="200"
                      value="100"
                    />
                    <span id="image-brightness-value">100%</span>
                  </div>

                  <div class="control-group">
                    <label for="image-contrast">Contrast:</label>
                    <input
                      type="range"
                      id="image-contrast"
                      min="0"
                      max="200"
                      value="100"
                    />
                    <span id="image-contrast-value">100%</span>
                  </div>

                  <div class="control-group">
                    <label for="image-saturation">Saturation:</label>
                    <input
                      type="range"
                      id="image-saturation"
                      min="0"
                      max="200"
                      value="100"
                    />
                    <span id="image-saturation-value">100%</span>
                  </div>

                  <div class="control-group">
                    <label for="image-rotation">Rotation:</label>
                    <input
                      type="number"
                      id="image-rotation"
                      min="-360"
                      max="360"
                      value="0"
                      step="1"
                    />
                    <span>°</span>
                  </div>

                  <div class="control-group">
                    <label for="image-outline-width">Outline Width:</label>
                    <input
                      type="number"
                      id="image-outline-width"
                      min="0"
                      max="30"
                      value="0"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="image-outline-color">Outline Color:</label>
                    <input type="color" id="image-outline-color" value="#ffffff" />
                  </div>

                  <div class="control-group">
                    <button id="crop-image" class="btn">Crop Image</button>
                    <button id="extract-person" class="btn" disabled>
                      Extract Person
                    </button>
                  </div>

                  <div class="control-group">
                    <div id="model-status" class="model-status">Loading AI model...</div>
                  </div>

                  <div id="crop-controls" class="crop-controls" style="display: none">
                    <div class="control-group">
                      <label>Crop Area:</label>
                      <div class="crop-inputs">
                        <input type="number" id="crop-x" placeholder="X" min="0" />
                        <input type="number" id="crop-y" placeholder="Y" min="0" />
                        <input
                          type="number"
                          id="crop-width"
                          placeholder="Width"
                          min="1"
                        />
                        <input
                          type="number"
                          id="crop-height"
                          placeholder="Height"
                          min="1"
                        />
                      </div>
                    </div>
                    <div class="control-group">
                      <button id="apply-crop" class="btn btn-primary">Apply Crop</button>
                      <button id="cancel-crop" class="btn">Cancel</button>
                    </div>
                  </div>
                </div>

              </div>

              <div id="shape-controls" class="shape-controls" style="display: none">
                <h4>Shape Settings</h4>
                <div class="controls-row">
                  <div class="control-group">
                    <label for="shape-type">Shape:</label>
                    <select id="shape-type">
                      <option value="rectangle">Rectangle</option>
                      <option value="circle">Circle</option>
                      <option value="triangle">Triangle</option>
                    </select>
                  </div>

                  <div class="control-group">
                    <label for="shape-width">Width:</label>
                    <input
                      type="number"
                      id="shape-width"
                      min="10"
                      max="500"
                      value="100"
                      step="5"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="shape-height">Height:</label>
                    <input
                      type="number"
                      id="shape-height"
                      min="10"
                      max="500"
                      value="100"
                      step="5"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="shape-color">Color:</label>
                    <input type="color" id="shape-color" value="#ffffff" />
                  </div>

                  <div class="control-group">
                    <label for="shape-opacity">Opacity:</label>
                    <input type="range" id="shape-opacity" min="0" max="100" value="30" />
                    <span id="shape-opacity-value">30%</span>
                  </div>

                  <div class="control-group">
                    <label for="shape-stroke-width">Border Width:</label>
                    <input
                      type="number"
                      id="shape-stroke-width"
                      min="0"
                      max="10"
                      value="2"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="shape-rotation">Rotation:</label>
                    <input
                      type="number"
                      id="shape-rotation"
                      min="-360"
                      max="360"
                      value="0"
                      step="1"
                    />
                    <span>°</span>
                  </div>
                </div>
              </div>

              <div id="arrow-controls" class="arrow-controls" style="display: none">
                <h4>Arrow Settings</h4>
                <div class="controls-row">
                  <div class="control-group">
                    <label for="arrow-type">Type:</label>
                    <select id="arrow-type">
                      <option value="straight">Straight</option>
                      <option value="curved">Curved</option>
                    </select>
                  </div>

                  <div class="control-group">
                    <label for="arrow-color">Color:</label>
                    <input type="color" id="arrow-color" value="#000000" />
                  </div>

                  <div class="control-group">
                    <label for="arrow-opacity">Opacity:</label>
                    <input
                      type="range"
                      id="arrow-opacity"
                      min="0"
                      max="100"
                      value="100"
                    />
                    <span id="arrow-opacity-value">100%</span>
                  </div>

                  <div class="control-group">
                    <label for="arrow-stroke-width">Line Width:</label>
                    <input
                      type="number"
                      id="arrow-stroke-width"
                      min="1"
                      max="10"
                      value="3"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group">
                    <label for="arrow-head-size">Arrowhead Size:</label>
                    <input
                      type="number"
                      id="arrow-head-size"
                      min="5"
                      max="30"
                      value="15"
                      step="1"
                    />
                    <span>px</span>
                  </div>

                  <div class="control-group" id="arrow-curvature-group">
                    <label for="arrow-curvature">Curvature:</label>
                    <input
                      type="range"
                      id="arrow-curvature"
                      min="-100"
                      max="100"
                      value="30"
                    />
                    <span id="arrow-curvature-value">30%</span>
                  </div>
                </div>
              </div>

              <div id="layer-controls" class="layer-controls" style="display: none">
                <h4>Layer Controls</h4>
                <div class="controls-row">
                  <div class="control-group">
                    <button id="bring-to-front" class="btn" title="Bring to Front">
                      Bring to Front
                    </button>
                    <button id="bring-forward" class="btn" title="Bring Forward">
                      ↑
                    </button>
                  </div>
                  <div class="control-group">
                    <button id="send-backward" class="btn" title="Send Backward">
                      ↓
                    </button>
                    <button id="send-to-back" class="btn" title="Send to Back">
                      Send to Back
                    </button>
                  </div>
                </div>
              </div>

              <div class="canvas-actions">
                <button id="duplicate-element" class="btn" disabled>
                  Duplicate Element
                </button>
                <button id="delete-element" class="btn btn-danger" disabled>
                  Delete Selected
                </button>
              </div>
            </div>
          </div>

          <div class="toolbar-right">
            <div class="tool-section">
              <h3>Background</h3>
              <div class="color-picker">
                <input type="color" id="bg-color" value="#ffffff" />
                <label for="bg-color">Custom Color</label>
              </div>

              <div class="color-palette">
                <h4>Quick Colors</h4>
                <div class="palette-grid">
                  <div
                    class="palette-color"
                    data-color="#c53030"
                    style="background-color: #c53030"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#2563eb"
                    style="background-color: #2563eb"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#7c3aed"
                    style="background-color: #7c3aed"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#7c2d92"
                    style="background-color: #7c2d92"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#059669"
                    style="background-color: #059669"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#374151"
                    style="background-color: #374151"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#1a1a1a"
                    style="background-color: #1a1a1a"
                  ></div>
                  <div
                    class="palette-color"
                    data-color="#ffffff"
                    style="background-color: #ffffff"
                  ></div>
                </div>
              </div>

              <div class="pattern-options">
                <h4>Patterns</h4>
                <div class="pattern-grid">
                  <button class="pattern-btn" data-pattern="solid">Solid</button>
                  <button class="pattern-btn" data-pattern="gradient">Gradient</button>
                  <button class="pattern-btn" data-pattern="stripes">Stripes</button>
                  <button class="pattern-btn" data-pattern="dots">Dots</button>
                  <button class="pattern-btn" data-pattern="geometric">Geometric</button>
                  <button class="pattern-btn" data-pattern="hexagon">Hexagon</button>
                  <button class="pattern-btn" data-pattern="waves">Waves</button>
                  <button class="pattern-btn" data-pattern="circles">Circles</button>
                </div>
              </div>
            </div>

            <div class="tool-section">
              <h3>Layers</h3>
              <div id="layers-panel" class="layers-panel">
                <div class="layers-list">
                  <!-- Dynamic content will be populated here -->
                </div>
              </div>
            </div>

            <div class="tool-section">
              <h3>Save as Image</h3>
              <button id="export-jpg" class="btn">Download JPG</button>
              <button id="export-png" class="btn">Download PNG</button>
            </div>

            <div class="tool-section">
              <h3>Project</h3>
              <button id="export-project" class="btn">Export Project</button>
              <input
                type="file"
                id="import-project-input"
                accept=".json"
                style="display: none"
              />
              <button id="import-project" class="btn">Import Project</button>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script type="module" src="main.js"></script>
  </body>
</html>
